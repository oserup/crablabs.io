---
// components
import Hero from "../components/Hero.astro";
import Layout from "../layouts/Layout.astro";
import Container from "../components/Container.astro";
import { Image } from "astro:assets";

// icons
import electrical from "../assets/icons/electrical.svg"
import software from "../assets/icons/code.svg";

// Structured data for SEO
const structuredData = {
  "@context": "https://schema.org",
  "@type": ["ProfessionalService", "LocalBusiness"],
  "name": "Crab Labs - Electronic Product Development Services",
  "alternateName": "Crab Labs LLC",
  "description": "Electronic product development that works the first time. 25+ years building medical devices, industrial systems, and precision instruments that pass compliance testing without redesigns.",
  "url": "https://crablabs.io",
  "telephone": "+1-424-271-5569",
  "email": "contact@crablabs.io",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "235 E Broadway Ste 210",
    "addressLocality": "Long Beach",
    "addressRegion": "CA",
    "postalCode": "90803",
    "addressCountry": "US"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "33.7701",
    "longitude": "-118.1937"
  },
  "areaServed": "United States",
  "serviceArea": {
    "@type": "Country",
    "name": "United States"
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Electronic Engineering Services",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "PCB Design Services",
          "description": "Custom printed circuit board design and layout services"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Embedded Firmware Development",
          "description": "Embedded software and firmware development for microcontrollers"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Pre-Compliance EMC Testing",
          "description": "EMC pre-compliance testing and validation for medical devices and industrial systems"
        }
      }
    ]
  },
  "priceRange": "$2500+",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5.0",
    "reviewCount": "8"
  }
};

// FAQ Schema for Common Questions section
const faqStructuredData = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How quickly can we start?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Usually 1-2 weeks. Clear scope, timeline, and price - no 47-page proposals."
      }
    },
    {
      "@type": "Question",
      "name": "How do you handle regulatory requirements?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "We've been through regulatory submissions before. We design for compliance from day one and handle pre-compliance testing. For final certification, we work with accredited test labs."
      }
    },
    {
      "@type": "Question",
      "name": "Can you work with existing systems?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely. Half our projects involve upgrading existing systems. We're good at adding new features without breaking what already works."
      }
    },
    {
      "@type": "Question",
      "name": "What do we receive at project completion?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Everything. Source code, schematics, PCB files, BOM, and manufacturing docs. It's all yours - no licensing fees or strings attached."
      }
    }
  ]
};
---

<!-- ========== MAIN CONTENT ========== -->
<main id="content">
  <Layout
    title="Electronic Product Development | PCB Design & Embedded Systems | Long Beach, CA"
    description="SME electronics engineering. PCB design, embedded firmware, medical device compliance. $2.5k-$250k budgets. 25+ years experience. Direct engineer access. Work starts in 1-2 weeks."
  >
    <script type="application/ld+json" is:inline set:html={JSON.stringify(structuredData)}></script>
    <script type="application/ld+json" is:inline set:html={JSON.stringify(faqStructuredData)}></script>
    <Hero />
    <Container>
      <!-- What We Do -->
      <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-10 mb-16 border-2 border-slate-200 dark:border-slate-700 hover:shadow-2xl hover:shadow-orange-500/20 dark:hover:shadow-none hover:border-orange-500 dark:hover:border-orange-400 hover:scale-[1.01] transition-all duration-500 group">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4">
            What We Deliver
          </h2>
          <p class="text-lg text-slate-600 dark:text-slate-300 mb-12 leading-relaxed">
            Precision engineering built to last, designed to perform.
          </p>
          
          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-white dark:bg-slate-900 rounded-2xl p-8 shadow-lg border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.03] hover:shadow-2xl hover:shadow-orange-500/20 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-400 group">
              <div class="w-16 h-16 bg-slate-600 dark:bg-slate-400 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg group-hover:shadow-xl group-hover:scale-110 group-hover:bg-orange-500 transition-all duration-300">
                <Image src={electrical} alt="Hardware Design" format={"svg"} class="w-8 h-8 text-white" />
              </div>
              <h3 class="text-xl font-bold text-slate-700 dark:text-slate-300 group-hover:text-orange-500 dark:group-hover:text-orange-400 mb-4 transition-colors duration-300">Hardware</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                Circuit design and PCB layout.
              </p>
            </div>

            <div class="bg-white dark:bg-slate-900 rounded-2xl p-8 shadow-lg border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.03] hover:shadow-2xl hover:shadow-orange-500/20 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-400 group">
              <div class="w-16 h-16 bg-slate-600 dark:bg-slate-400 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg group-hover:shadow-xl group-hover:scale-110 group-hover:bg-orange-500 transition-all duration-300">
                <Image src={software} alt="Embedded Software" format={"svg"} class="w-8 h-8 text-white" />
              </div>
              <h3 class="text-xl font-bold text-slate-700 dark:text-slate-300 group-hover:text-orange-500 dark:group-hover:text-orange-400 mb-4 transition-colors duration-300">Software</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                Firmware and supporting software.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Projects -->
      <div class="bg-white dark:bg-slate-900 rounded-2xl p-10 mb-16 border-2 border-slate-200 dark:border-slate-700 hover:shadow-2xl hover:shadow-orange-500/20 dark:hover:shadow-none hover:border-orange-500 dark:hover:border-orange-400 hover:scale-[1.01] transition-all duration-500">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4">
            Recent Project
          </h2>
          <p class="text-lg text-slate-600 dark:text-slate-300 mb-8 leading-relaxed">
            Latest project we've shipped.
          </p>
          
          <!-- Medical Device Project -->
          <div class="bg-slate-50 dark:bg-slate-800 p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 shadow-lg hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-400">
            <div class="flex items-center justify-center mb-4">
              <span class="px-4 py-2 bg-slate-600 dark:bg-slate-500 text-white text-sm font-bold rounded-full shadow-md">Medical Device</span>
            </div>
            <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-3">Ultrasound Imaging System Motor Control</h3>
            <p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-4">
              Previous engineering firm's 5-axis system failed EMC testing and couldn't hit positioning specs. We redesigned it from scratch and delivered sub-0.1mm accuracy with full compliance.
            </p>
          </div>
          
          <div class="mt-8">
            <a href="/about" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-medium rounded-xl hover:from-orange-600 hover:to-orange-700 hover:scale-105 shadow-lg transition-all duration-200">
              View All Projects
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          </div>
        </div>
      </div>


      <!-- FAQ -->
      <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-10 mb-16 border-2 border-slate-200 dark:border-slate-700 hover:shadow-2xl hover:shadow-orange-500/20 dark:hover:shadow-none hover:border-orange-500 dark:hover:border-orange-400 hover:scale-[1.01] transition-all duration-500">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4">
            What Sets Us Apart
          </h2>
          
          <div class="grid md:grid-cols-2 gap-8 max-w-3xl mx-auto">
            <div class="bg-white dark:bg-slate-900 rounded-2xl p-8 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-4">No Middle Man - Work Directly With Us</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Talk directly to the engineers building your project. No account managers or coordinators - just the people doing the work.</p>
            </div>
            
            <div class="bg-white dark:bg-slate-900 rounded-2xl p-8 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-4">We Define the Spec With You First</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Most projects fail because nobody knows what "done" means. We figure out exactly what you need before building anything.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Common Questions -->
      <div class="bg-white dark:bg-slate-900 rounded-2xl p-10 mb-16 border-2 border-slate-200 dark:border-slate-700 hover:shadow-2xl hover:shadow-orange-500/20 dark:hover:shadow-none hover:border-orange-500 dark:hover:border-orange-400 hover:scale-[1.01] transition-all duration-500">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl font-bold text-slate-800 dark:text-slate-100 mb-4">
            Common Questions
          </h2>
          <p class="text-lg text-slate-600 dark:text-slate-300 mb-12 leading-relaxed">
            Questions prospects ask us.
          </p>
          
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-6 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 mb-3">How quickly can we start?</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Usually 1-2 weeks. Clear scope, timeline, and price - no 47-page proposals.</p>
            </div>
            
            <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-6 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 mb-3">How do you handle regulatory requirements?</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">We've been through regulatory submissions before. We design for compliance from day one and handle pre-compliance testing. For final certification, we work with accredited test labs.</p>
            </div>
            
            <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-6 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 mb-3">Can you work with existing systems?</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Absolutely. Half our projects involve upgrading existing systems. We're good at adding new features without breaking what already works.</p>
            </div>
            
            <div class="bg-slate-50 dark:bg-slate-800 rounded-2xl p-6 border-2 border-slate-200 dark:border-slate-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-orange-500/15 hover:border-orange-500 dark:hover:border-orange-400 transition-all duration-300">
              <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 mb-3">What do we receive at project completion?</h3>
              <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Everything. Source code, schematics, PCB files, BOM, and manufacturing docs. It's all yours - no licensing fees or strings attached.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-10 text-center text-white border-2 border-orange-500 shadow-2xl hover:shadow-orange-500/40 hover:scale-[1.01] hover:from-orange-600 hover:to-orange-700 transition-all duration-500">
        <h2 class="text-3xl font-bold mb-4">Ready to Start Your Project?</h2>
        <p class="text-lg mb-8 opacity-95">
          Talk directly with a senior engineer about your requirements.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
          <a href="/quote" class="px-8 py-4 bg-white text-orange-600 font-bold rounded-xl hover:bg-gray-100 hover:scale-105 shadow-lg transition-all duration-200">
            Get Project Quote
          </a>
          <a href="tel:+14242715569" class="px-8 py-4 bg-orange-700 text-white font-bold rounded-xl hover:bg-orange-800 hover:scale-105 shadow-lg transition-all duration-200">
            Call (424) 271-5569
          </a>
        </div>

        <p class="text-sm opacity-90">
          Long Beach, CA • Response within 24 hours
        </p>
      </div>

    </Container>
  </Layout>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const expandButtons = document.querySelectorAll('.expand-btn');
    
    expandButtons.forEach(button => {
        button.addEventListener('click', function() {
            const content = this.nextElementSibling;
            const icon = this.querySelector('svg');
            const span = this.querySelector('span');
            
            // Close all other expanded sections
            expandButtons.forEach(otherButton => {
                if (otherButton !== this) {
                    const otherContent = otherButton.nextElementSibling;
                    const otherIcon = otherButton.querySelector('svg');
                    const otherSpan = otherButton.querySelector('span');
                    
                    if (otherContent && !otherContent.classList.contains('hidden')) {
                        otherContent.classList.add('hidden');
                        otherIcon.style.transform = 'rotate(0deg)';
                        otherSpan.textContent = 'Show Technical Details';
                    }
                }
            });
            
            // Toggle current section
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
                span.textContent = 'Hide Technical Details';
            } else {
                content.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
                span.textContent = 'Show Technical Details';
            }
        });
    });
});
</script>