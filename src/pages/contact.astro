---
import Container from "../components/Container.astro";
import Layout from "../layouts/Layout.astro";

const email = "contact@crablabs.io";
const emailHref = "mailto:contact@crablabs.io";
const phone = "(424) 271-5569";
const phoneHref = "tel:+14242715569";
const address = ["235 E Broadway Ste 210", "Long Beach, CA 90803"];
---

<Layout
    title="Contact Us | Crab Labs"
    description="Get a quote. SME budgets $2.5k-$250k. Direct engineer contact. PCB design, embedded systems, compliance."
>
    <div class="page-container">
      <Container>
        <div class="py-16 lg:py-24">

            <!-- Header -->
            <section class="max-w-4xl mx-auto text-center mb-12">
              <p class="text-sm font-mono text-brand-600 mb-2">Contact</p>
              <h1 class="text-4xl sm:text-5xl font-display font-semibold text-neutral-900 mb-4">Get in Touch</h1>
              <p class="text-lg text-neutral-600 max-w-xl mx-auto">
                Quote or consultation. Response same business day.
              </p>
            </section>

            <!-- Contact Form Section -->
            <section class="max-w-5xl mx-auto">
              <div class="bg-white border border-neutral-200 rounded-lg p-6 md:p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-16">

                  <!-- Contact Form -->
                  <div class="lg:order-2">
                    <h2 class="text-xl font-display font-semibold text-neutral-900 mb-6">Project Inquiry</h2>
                    <form action="https://usebasin.com/f/00c426b2708e" method="POST">
                      <div class="space-y-4">
                        <div>
                          <label for="name" class="block text-sm font-medium text-neutral-700 mb-1">Name *</label>
                          <input
                            type="text"
                            name="name"
                            id="name"
                            class="w-full px-4 py-3 border border-neutral-300 rounded-lg text-base focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-colors"
                            placeholder="Your name"
                            required
                          />
                        </div>

                        <div>
                          <label for="email" class="block text-sm font-medium text-neutral-700 mb-1">Email *</label>
                          <input
                            type="email"
                            name="email"
                            id="email"
                            autocomplete="email"
                            class="w-full px-4 py-3 border border-neutral-300 rounded-lg text-base focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-colors"
                            placeholder="you@company.com"
                            required
                          />
                        </div>

                        <div>
                          <label for="phone" class="block text-sm font-medium text-neutral-700 mb-1">Phone (Optional)</label>
                          <input
                            type="tel"
                            name="phone"
                            id="phone"
                            class="w-full px-4 py-3 border border-neutral-300 rounded-lg text-base focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-colors"
                            placeholder="(555) 123-4567"
                          />
                        </div>

                        <div>
                          <label for="message" class="block text-sm font-medium text-neutral-700 mb-1">Project Details *</label>
                          <textarea
                            id="message"
                            name="message"
                            rows="5"
                            class="w-full px-4 py-3 border border-neutral-300 rounded-lg text-base focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-colors resize-none"
                            placeholder="What are you building? What service do you need? What's your timeline and budget range?"
                            required
                          ></textarea>
                          <input type="hidden" name="service-type" id="service-type" value="contact-form" />
                        </div>
                      </div>

                      <div class="pt-6 mt-6 border-t border-neutral-200">
                        <button type="submit" class="btn-brand btn-lg w-full">
                          Send Inquiry
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                          </svg>
                        </button>

                      </div>
                    </form>
                  </div>

                  <!-- Contact Info -->
                  <div class="space-y-8">
                    <h2 class="text-xl font-display font-semibold text-neutral-900 mb-6">Get in Touch</h2>

                    <!-- Address -->
                    <div class="flex gap-4">
                      <div class="w-10 h-10 bg-brand-50 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-brand-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"></path>
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"></path>
                        </svg>
                      </div>
                      <div>
                        <h4 class="text-sm font-semibold text-neutral-900 mb-1">Our Address</h4>
                        <address class="text-sm text-neutral-600 not-italic">
                          {address[0]}<br/>
                          {address[1]}
                        </address>
                      </div>
                    </div>

                    <!-- Email -->
                    <div class="flex gap-4">
                      <div class="w-10 h-10 bg-brand-50 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-brand-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"></path>
                        </svg>
                      </div>
                      <div>
                        <h4 class="text-sm font-semibold text-neutral-900 mb-1">Email Us</h4>
                        <a class="text-sm text-neutral-600 hover:text-brand-600 transition-colors" href={emailHref}>
                          {email}
                        </a>
                      </div>
                    </div>

                    <!-- Phone -->
                    <div class="flex gap-4">
                      <div class="w-10 h-10 bg-brand-50 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-brand-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"></path>
                        </svg>
                      </div>
                      <div>
                        <h4 class="text-sm font-semibold text-neutral-900 mb-1">Call or Text</h4>
                        <a class="text-sm text-neutral-600 hover:text-brand-600 transition-colors" href={phoneHref}>
                          {phone}
                        </a>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </section>

        </div>
      </Container>
    </div>
</Layout>

<script>
  // Auto-select service type based on URL parameter
  document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const serviceParam = urlParams.get('service');

    if (serviceParam) {
      const serviceSelect = document.getElementById('service-type');
      // Try to find and select the matching option
      if (serviceSelect && serviceSelect instanceof HTMLSelectElement) {
        for (let option of serviceSelect.options) {
          if (option.value === serviceParam) {
            option.selected = true;
            break;
          }
        }
      }
    }
  });
</script>
