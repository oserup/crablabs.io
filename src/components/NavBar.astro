---
// interface for link properties
interface Link {
  text?: string;
  href?: string;
  ariaLabel?: string;
  icon?: string;
}

// interface to type-check properties
interface Props {
  links?: Array<Link>;
}

// set CSS style for hover
const hoverClasses = "transition duration-300 transform hover:scale-105 md:hover:scale-100";

// set props
const { links = [] } = Astro.props;
---

<!-- Header -->
<header
  class="fixed inset-x-0 top-0 z-50 flex flex-wrap md:justify-start md:flex-nowrap w-full text-sm bg-white/95 backdrop-blur-xl border-b border-gray-200/60 shadow-sm"
>
  <!-- Nav Menu -->
  <nav class="max-w-[90rem] w-full mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 2xl:px-16 md:flex md:items-center md:justify-between py-1" aria-label="Global">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a
        class={`inline-flex items-center gap-x-2 text-xl whitespace-nowrap ${hoverClasses}`}
        href="/"
      >
        <img class="w-8 h-auto" src="/logo.svg" alt="Crab Labs Electronic Device Engineering Logo" />
        <span class="font-display font-semibold text-neutral-900 tracking-wide">CRAB LABS</span>
      </a>
      <!-- Logo End -->
      <!-- Nav Menu Button - 44px minimum touch target for accessibility -->
      <div class="md:hidden">
        <button
          type="button"
          class="hs-collapse-toggle min-w-[44px] min-h-[44px] p-3 inline-flex justify-center items-center gap-x-2 rounded-lg border border-neutral-200 bg-white text-neutral-800 shadow-sm hover:bg-neutral-50 focus-visible:outline-2 focus-visible:outline-brand-500 focus-visible:outline-offset-2 disabled:opacity-50 disabled:pointer-events-none"
          data-hs-collapse="#navbar-image-and-text-2"
          aria-controls="navbar-image-and-text-2"
          aria-label="Toggle navigation"
          aria-expanded="false"
        >
          <svg
            class="hs-collapse-open:hidden flex-shrink-0 w-5 h-5"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="3" x2="21" y1="6" y2="6"></line><line x1="3" x2="21" y1="12" y2="12"></line><line
              x1="3"
              x2="21"
              y1="18"
              y2="18"
            >
            </line>
          </svg>
          <svg
            class="hs-collapse-open:block hidden flex-shrink-0 w-5 h-5"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18"></path><path d="m6 6 12 12"></path>
          </svg>
        </button>
      </div>
      <!-- Nav Menu Button End -->
    </div>
    <!-- Nav Links -->
    <div
      id="navbar-image-and-text-2"
      class="hs-collapse hidden overflow-hidden transition-all duration-300 basis-full grow md:block"
    >
      <div class="flex flex-col mt-5 px-3 md:flex-row md:items-center justify-end md:mt-0 md:px-0">
        {
          links.map(({ text, href }) => (
            <a
              class={`py-3 ps-px md:px-3 font-medium text-gray-600 hover:text-orange-600 transition-colors duration-300 ${hoverClasses}`}
              href={href}
            >
              {text}
            </a>
          ))
        }
        <!-- CTA Button - uses btn-brand for consistency with design system -->
        <a
          href="/quote"
          class="mt-3 md:mt-0 md:ml-4 btn-brand btn-sm"
        >
          Get a Quote
        </a>
      </div>
    </div>
    <!-- Nav Links End -->
  </nav>
  <!-- Nav Menu End -->
</header>
<!-- Header End -->
